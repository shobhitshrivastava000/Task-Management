{"ast":null,"code":"var _jsxFileName = \"/Users/ztlab137/Desktop/Task_Management-main/Task-Management/frontend/src/compnents/Tasks.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { deleteTask, getAllTasks } from \"../redux/actions\";\nimport { useDispatch, useSelector } from \"react-redux\"; //\n//component\nimport DisplayTask from \"./DisplayTask\";\nimport Tabs from \"./Tabs\";\nimport { ALL_TASKS, ACTIVE_TASKS, DONE_TASKS } from \"../redux/actions/type\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Tasks = () => {\n  _s();\n  var _getTask, _getTask2;\n  const dispatch = useDispatch();\n  const tasks = useSelector(state => {\n    var _state$task$;\n    return state === null || state === void 0 ? void 0 : (_state$task$ = state.task[0]) === null || _state$task$ === void 0 ? void 0 : _state$task$.getTask;\n  });\n  const currentTab = useSelector(state => state.currentTab);\n  const authDataString = localStorage.getItem('auth');\n  const authData = JSON.parse(authDataString);\n  const userid = authData.userid;\n\n  // console.log(\"task\"+JSON.stringify(tasks));\n\n  useEffect(() => {\n    dispatch(getAllTasks(userid));\n    JSON.stringify(tasks);\n\n    // eslint-disable-next-line \n  }, []);\n  const getTask = () => {\n    if (currentTab === ALL_TASKS) {\n      return tasks;\n    } else if (currentTab === ACTIVE_TASKS) {\n      return tasks === null || tasks === void 0 ? void 0 : tasks.filter(task => !task.done);\n    } else if (currentTab === DONE_TASKS) {\n      return tasks === null || tasks === void 0 ? void 0 : tasks.filter(task => task.done);\n    }\n  };\n  const removeDoneTask = () => {\n    tasks.forEach(({\n      done,\n      _id\n    }) => {\n      if (done) {\n        dispatch(deleteTask(_id));\n      }\n    });\n    window.location.reload();\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"article\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Tabs, {\n          currentTab: currentTab\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), (tasks === null || tasks === void 0 ? void 0 : tasks.length) > 0 ? tasks !== null && tasks !== void 0 && tasks.some(task => task.done) ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.preventDefault();\n            removeDoneTask();\n          },\n          className: \"button clear\",\n          children: \"Remove Done Task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this) : null : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: (tasks === null || tasks === void 0 ? void 0 : tasks.length) > 0 ? ((_getTask = getTask()) === null || _getTask === void 0 ? void 0 : _getTask.length) > 0 ? (_getTask2 = getTask()) === null || _getTask2 === void 0 ? void 0 : _getTask2.map(task => /*#__PURE__*/_jsxDEV(DisplayTask, {\n          task: task\n        }, task._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this)) : \"Plan Something Nice\" : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Tasks, \"tG0z43WCZU99Eotu+lmNH7NYwiI=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = Tasks;\nexport default Tasks;\nvar _c;\n$RefreshReg$(_c, \"Tasks\");","map":{"version":3,"names":["React","useEffect","deleteTask","getAllTasks","useDispatch","useSelector","DisplayTask","Tabs","ALL_TASKS","ACTIVE_TASKS","DONE_TASKS","jsxDEV","_jsxDEV","Fragment","_Fragment","Tasks","_s","_getTask","_getTask2","dispatch","tasks","state","_state$task$","task","getTask","currentTab","authDataString","localStorage","getItem","authData","JSON","parse","userid","stringify","filter","done","removeDoneTask","forEach","_id","window","location","reload","children","fileName","_jsxFileName","lineNumber","columnNumber","length","some","onClick","e","preventDefault","className","map","_c","$RefreshReg$"],"sources":["/Users/ztlab137/Desktop/Task_Management-main/Task-Management/frontend/src/compnents/Tasks.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { deleteTask, getAllTasks } from \"../redux/actions\";\nimport { useDispatch, useSelector } from \"react-redux\"; //\n//component\nimport DisplayTask from \"./DisplayTask\";\nimport Tabs from \"./Tabs\";\nimport { ALL_TASKS, ACTIVE_TASKS, DONE_TASKS } from \"../redux/actions/type\";\n\nconst Tasks = () => {\n  const dispatch = useDispatch();\n\n  const tasks = useSelector((state) => state?.task[0]?.getTask);\n  const currentTab = useSelector((state) => state.currentTab);\n \n  const authDataString = localStorage.getItem('auth');\n\n  const authData = JSON.parse(authDataString)\n  \n  const userid = authData.userid;\n    \n  // console.log(\"task\"+JSON.stringify(tasks));\n\n  useEffect(() => {\n    \n    dispatch(getAllTasks(userid));\n    JSON.stringify(tasks);\n\n    // eslint-disable-next-line \n  }, []);\n\n  const getTask = () => {\n    if (currentTab === ALL_TASKS) {\n      return tasks;\n    } else if (currentTab === ACTIVE_TASKS) {\n      return tasks?.filter((task) => !task.done);\n    } else if (currentTab === DONE_TASKS) {\n      return tasks?.filter((task) => task.done);\n    }\n  };\n\n  const removeDoneTask = () => {\n    tasks.forEach(({ done, _id }) => {\n      if (done) {\n        dispatch(deleteTask(_id));\n      }\n    });\n    window.location.reload()\n  };\n\n  return (\n    <>\n      <article>\n        <div>\n          <Tabs currentTab={currentTab} />\n\n          {tasks?.length > 0 ?  (tasks?.some((task) => task.done) ? (\n            <button\n              onClick={(e) => {\n                e.preventDefault();\n                removeDoneTask();\n              }}\n              className=\"button clear\"\n            >\n              Remove Done Task\n            </button>\n          ) : null) : null}\n        </div>\n        <ul>\n\n          {tasks?.length > 0 ? (getTask()?.length > 0\n            ? getTask()?.map((task) => (\n                <DisplayTask key={task._id} task={task} />\n              ))\n            : \"Plan Something Nice\"): null}\n        </ul>\n      </article>\n    </>\n  );\n};\n\nexport default Tasks;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,UAAU,EAAEC,WAAW,QAAQ,kBAAkB;AAC1D,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa,CAAC,CAAC;AACxD;AACA,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,IAAI,MAAM,QAAQ;AACzB,SAASC,SAAS,EAAEC,YAAY,EAAEC,UAAU,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE5E,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,QAAA,EAAAC,SAAA;EAClB,MAAMC,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAE9B,MAAMgB,KAAK,GAAGf,WAAW,CAAEgB,KAAK;IAAA,IAAAC,YAAA;IAAA,OAAKD,KAAK,aAALA,KAAK,wBAAAC,YAAA,GAALD,KAAK,CAAEE,IAAI,CAAC,CAAC,CAAC,cAAAD,YAAA,uBAAdA,YAAA,CAAgBE,OAAO;EAAA,EAAC;EAC7D,MAAMC,UAAU,GAAGpB,WAAW,CAAEgB,KAAK,IAAKA,KAAK,CAACI,UAAU,CAAC;EAE3D,MAAMC,cAAc,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAEnD,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACL,cAAc,CAAC;EAE3C,MAAMM,MAAM,GAAGH,QAAQ,CAACG,MAAM;;EAE9B;;EAEA/B,SAAS,CAAC,MAAM;IAEdkB,QAAQ,CAAChB,WAAW,CAAC6B,MAAM,CAAC,CAAC;IAC7BF,IAAI,CAACG,SAAS,CAACb,KAAK,CAAC;;IAErB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMI,OAAO,GAAGA,CAAA,KAAM;IACpB,IAAIC,UAAU,KAAKjB,SAAS,EAAE;MAC5B,OAAOY,KAAK;IACd,CAAC,MAAM,IAAIK,UAAU,KAAKhB,YAAY,EAAE;MACtC,OAAOW,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEc,MAAM,CAAEX,IAAI,IAAK,CAACA,IAAI,CAACY,IAAI,CAAC;IAC5C,CAAC,MAAM,IAAIV,UAAU,KAAKf,UAAU,EAAE;MACpC,OAAOU,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEc,MAAM,CAAEX,IAAI,IAAKA,IAAI,CAACY,IAAI,CAAC;IAC3C;EACF,CAAC;EAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3BhB,KAAK,CAACiB,OAAO,CAAC,CAAC;MAAEF,IAAI;MAAEG;IAAI,CAAC,KAAK;MAC/B,IAAIH,IAAI,EAAE;QACRhB,QAAQ,CAACjB,UAAU,CAACoC,GAAG,CAAC,CAAC;MAC3B;IACF,CAAC,CAAC;IACFC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;EAC1B,CAAC;EAED,oBACE7B,OAAA,CAAAE,SAAA;IAAA4B,QAAA,eACE9B,OAAA;MAAA8B,QAAA,gBACE9B,OAAA;QAAA8B,QAAA,gBACE9B,OAAA,CAACL,IAAI;UAACkB,UAAU,EAAEA;QAAW;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EAE/B,CAAA1B,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE2B,MAAM,IAAG,CAAC,GAAK3B,KAAK,aAALA,KAAK,eAALA,KAAK,CAAE4B,IAAI,CAAEzB,IAAI,IAAKA,IAAI,CAACY,IAAI,CAAC,gBACrDvB,OAAA;UACEqC,OAAO,EAAGC,CAAC,IAAK;YACdA,CAAC,CAACC,cAAc,CAAC,CAAC;YAClBf,cAAc,CAAC,CAAC;UAClB,CAAE;UACFgB,SAAS,EAAC,cAAc;UAAAV,QAAA,EACzB;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,GACP,IAAI,GAAI,IAAI;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACb,CAAC,eACNlC,OAAA;QAAA8B,QAAA,EAEG,CAAAtB,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE2B,MAAM,IAAG,CAAC,GAAI,EAAA9B,QAAA,GAAAO,OAAO,CAAC,CAAC,cAAAP,QAAA,uBAATA,QAAA,CAAW8B,MAAM,IAAG,CAAC,IAAA7B,SAAA,GACvCM,OAAO,CAAC,CAAC,cAAAN,SAAA,uBAATA,SAAA,CAAWmC,GAAG,CAAE9B,IAAI,iBAClBX,OAAA,CAACN,WAAW;UAAgBiB,IAAI,EAAEA;QAAK,GAArBA,IAAI,CAACe,GAAG;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAe,CAC1C,CAAC,GACF,qBAAqB,GAAG;MAAI;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC,gBACV,CAAC;AAEP,CAAC;AAAC9B,EAAA,CAtEID,KAAK;EAAA,QACQX,WAAW,EAEdC,WAAW,EACNA,WAAW;AAAA;AAAAiD,EAAA,GAJ1BvC,KAAK;AAwEX,eAAeA,KAAK;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}